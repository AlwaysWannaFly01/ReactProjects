<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>props</title>
</head>
<body>
<div id="test1"></div>
<div id="test2"></div>
<script type="text/javascript" src="../js/react.development.js"></script>
<script type="text/javascript" src="../js/react-dom.development.js"></script>
<script type="text/javascript" src="../js/babel.min.js"></script>
<!--对组件标签属性进行限制-->
<script type="text/javascript" src="../js/prop-types.js"></script>
<script type="text/babel">
    class Person extends React.Component {

        constructor(props){
           //构造器是否接收props,是否传递给super,取决于:是否希望在构造器中通过this访问props
            super(props);
            console.log('constructor' , this.props)
        }
        //对标签属性进行类型,必要性的限制
        static propTypes = {
            name: PropTypes.string.isRequired,
            sex: PropTypes.string,
            age: PropTypes.number,
            speak: PropTypes.func, //限制speak为函数
        }

        //指定默认的标签属性值
        static defaultProps = {
            sex: '人妖',
            age: 17
        }

        render() {
            console.log(this)
            //props是只读的
            const {name, age, sex} = this.props;
            return (
                <ul>
                    <li>
                        姓名:{name}
                    </li>
                    <li>
                        年龄:{age + 1}
                    </li>
                    <li>
                        性别:{sex}
                    </li>
                </ul>
            )
        }


    }


    const p = {name: 'zz', age: 29, sex: '女'}
    ReactDOM.render(<Person name="tom" speak={speak}/>, document.getElementById('test1'))
    ReactDOM.render(<Person {...p}/>, document.getElementById('test2'))

    function speak() {
        console.log('ssss')
    }
</script>
</body>
</html>
